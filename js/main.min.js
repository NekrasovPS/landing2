document.addEventListener("DOMContentLoaded",(()=>{const e=document.body,t=document.querySelector(".feedback-modal"),i=document.querySelector("#modal-title"),n=document.querySelector(".header"),s=document.querySelector(".menu-open"),r=document.querySelector(".menu-close"),o=document.querySelector(".menu"),c=document.querySelector(".promotionSwiper .swiper-wrapper"),a=c?.innerHTML;let l=null;new Swiper(".repair-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"}});s?.addEventListener("click",(()=>{o?.classList.toggle("open"),e.classList.toggle("lock")})),r?.addEventListener("click",(()=>{o?.classList.remove("open"),e.classList.remove("lock")})),setTimeout((()=>{document.querySelector(".main__title")?.classList.add("animate")}),500),setTimeout((()=>{document.querySelector(".main__btns")?.classList.add("animate")}),1e3);const d=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),d.unobserve(e.target))}))}),{threshold:.2});function w(){window.innerWidth<=991?function(){const e=Array.from(c.querySelectorAll(".promotion__item"));c.innerHTML="",e.forEach((e=>{const t=document.createElement("div");t.className="swiper-slide",t.appendChild(e.cloneNode(!0)),c.appendChild(t)}))}():c.innerHTML=a,l?.destroy(!0,!0),l=new Swiper(".promotionSwiper",{slidesPerView:2,spaceBetween:16,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:"auto",spaceBetween:30},768:{slidesPerView:2,spaceBetween:16},375:{slidesPerView:1,spaceBetween:16}}})}document.querySelectorAll(".fade-in-up").forEach((e=>d.observe(e))),document.addEventListener("click",(n=>{const s=n.target.closest(".open-form-btn");if(s){const n=s.dataset.title||"Оставить заявку";t?.classList.add("active"),e.classList.add("lock"),i&&(i.textContent=n)}t&&n.target===t&&(t.classList.remove("active"),e.classList.remove("lock"))})),document.querySelectorAll(".accordion__item").forEach((e=>{const t=e.querySelector(".accordion__header");t?.addEventListener("click",(()=>{document.querySelectorAll(".accordion__item").forEach((t=>{t!==e&&t.classList.remove("accordion__item--active")})),e.classList.toggle("accordion__item--active")}))})),window.addEventListener("resize",w),w(),new Swiper(".aboutSwiper",{slidesPerView:3,spaceBetween:16,breakpoints:{1400:{slidesPerView:3,spaceBetween:16},991:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:2,spaceBetween:16},375:{slidesPerView:1,spaceBetween:16},320:{slidesPerView:1,spaceBetween:16}}}),new Swiper(".sertSwiper",{slidesPerView:3,spaceBetween:16,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:2,spaceBetween:15},576:{slidesPerView:2,spaceBetween:10},400:{slidesPerView:2,spaceBetween:10},375:{slidesPerView:1,spaceBetween:10}}}),window.jQuery&&$(".phone").mask("+7(999) 999-99-99"),window.addEventListener("scroll",(()=>{n?.classList.toggle("scrolled",window.scrollY>0)}))}));